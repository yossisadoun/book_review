@import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Oswald:wght@600;700&family=Antonio:wght@700&family=Archivo+Narrow:wght@700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Prevent zooming on mobile browsers (pinch zoom) */
html {
  touch-action: manipulation;
}

body {
  touch-action: manipulation;
}

/* Hide scrollbar for author facts tooltips */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* iOS-like scrolling with momentum and spring physics */
.ios-scroll {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: auto; /* Allow bounce at edges like iOS */
  overscroll-behavior-x: auto;
  scroll-behavior: smooth;
  /* Smooth momentum with velocity */
  scroll-padding: 0;
  /* Enable rubber band bounce effect - native on iOS */
  position: relative;
}

/* Enhanced momentum scrolling for iOS devices */
@supports (-webkit-overflow-scrolling: touch) {
  .ios-scroll {
    -webkit-overflow-scrolling: touch;
    /* Enable hardware acceleration for smoother scrolling */
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
  }
}

/* Smooth scroll with velocity for all browsers */
html {
  scroll-behavior: smooth;
}

/* iOS-like rubber band effect - allow bounce on body */
body {
  overscroll-behavior-y: auto;
  /* Native bounce works with auto on iOS Safari */
}

/* Bookshelf styles */
.bookshelf-scroll {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.bookshelf-scroll::-webkit-scrollbar {
  display: none;
}

/* iOS-like horizontal scrolling with bounce */
.ios-horizontal-scroll {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-x: auto; /* Allow bounce at edges like iOS */
  scroll-behavior: smooth;
  /* Enable hardware acceleration for smoother scrolling */
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
}

@keyframes book-bounce {
  0% { transform: translateY(0); }
  40% { transform: translateY(-15px); }
  80% { transform: translateY(0); }
  100% { transform: translateY(0); }
}

.book-spine {
  transition: transform 0.3s ease;
  border-radius: 4px 4px 2px 2px;
  overflow: hidden;
}

.book-spine:hover {
  animation: book-bounce 0.4s ease forwards;
  z-index: 50 !important;
}

/* DaisyUI countdown component - ensure numbers are visible */
.countdown > span {
  display: inline-block;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Hide input accessory bar on iOS Safari (white box above keyboard) */
.hide-input-accessory {
  -webkit-appearance: none;
  appearance: none;
  /* Prevent iOS from showing input accessory bar */
  -webkit-user-select: text;
  user-select: text;
}

/* Target iOS Safari specifically to hide input accessory view */
@supports (-webkit-touch-callout: none) {
  .hide-input-accessory {
    /* Use position and transform to help hide accessory bar */
    position: relative;
  }
  
  /* Hide the input accessory view container */
  .hide-input-accessory::-webkit-input-placeholder {
    opacity: 1;
  }
}

/* Additional iOS-specific hiding */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  .hide-input-accessory {
    /* Force iOS to not show accessory bar */
    -webkit-appearance: none;
    -webkit-tap-highlight-color: transparent;
  }
}

/* Ensure search input stays visible above keyboard on mobile */
@media (max-width: 768px) {
  /* Use visual viewport height for better keyboard handling */
  @supports (height: 100dvh) {
    .search-sheet-container {
      max-height: 100dvh;
    }
  }
  
  /* Bottom-anchored search input (Apple-style) */
  .safe-area-bottom {
    /* Account for safe area insets on iOS */
    padding-bottom: calc(16px + env(safe-area-inset-bottom, 0px));
  }
}
